{# version 1.00, date 05/12/2016, auteur Juliana Rossi #}

{% extends "ArchitectureBundle::layoutArchitecture.html.twig" %}

{% block title %}
    Historique de mails - {{ parent() }}
{% endblock %}

{% block body %}
    <style>
        @import 'https://fonts.googleapis.com/css?family=Ubuntu+Condensed&subset=latin-ext';
        h1{
            font-family: 'Ubuntu Condensed', sans-serif;
            margin-top: 40px;
        }
    </style>
    <h1>Historique de mails</h1>
    <hr>
    <div class="container">
        <div class="row">
            <div class="table-responsive">
                <table class="table table-striped table-hover" id="tableIntervention">
                    <thead>
                    <tr>
                        <th>Établissement</th>
                        <th>Date</th>
                        <th>Mail</th>
                    </tr>
                    </thead>
                    <tbody id="myTable">
                    {% if mails is not empty %}
                        {% for mail in mails %}
                            <td data-title="Établissement">{{ mail.getIdEtablissement() }}</td>
                            <td data-title="Date">{{ mail.getDateEnvoi | date("d/m/Y") }}</td>
                            <td data-title="Mail">{{ mail.getTypeEmail }}</td>
                        {% endfor %}
                    {% else %}
                        <tr></tr>
                    {% endif %}
                    </tbody>
                </table>

            </div>
        </div>
    </div>
    <div class="col-md-12 text-center">
        {% set pathReq = [] %}
        <ul>Par page :
            <a href="{{ path('historique_mailing', pathReq | merge({"rowsPerPage":5}) ) }}">5</a>,
            <a href="{{ path('historique_mailing', pathReq | merge({"rowsPerPage":10}) ) }}">10</a>,
            <a href="{{ path('historique_mailing', pathReq | merge({"rowsPerPage":20}) ) }}">20</a>,
            <a href="{{ path('historique_mailing', pathReq | merge({"rowsPerPage":50}) ) }}">50</a>,
            <a href="{{ path('historique_mailing', pathReq | merge({"rowsPerPage":100}) ) }}">100</a>
        </ul>
        <ul class="pagination pagination-lg pager" id="myPager"></ul>
    </div>

{% endblock %}
